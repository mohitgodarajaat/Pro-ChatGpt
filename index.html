<!DOCTYPE html>
<html lang="en" class="h-full">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CHAT-GPT PRO — Elite</title>
    
    <link rel="icon" type="image/png" href="https://img.icons8.com/fluency/48/artificial-intelligence.png">

    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body { height: 100dvh; overflow: hidden; font-family: 'Plus Jakarta Sans', sans-serif; background: #09090b; color: #fafafa; }
        .sidebar { background: #0c0c0e; border-right: 1px solid #1f1f22; z-index: 50; }
        .glass-card { background: linear-gradient(135deg, rgba(16, 163, 127, 0.1) 0%, rgba(16, 163, 127, 0) 100%); border: 1px solid rgba(16, 163, 127, 0.3); border-radius: 16px; position: relative; overflow: hidden; }
        .msg-user { background: #10a37f; color: white; border-radius: 20px 20px 4px 20px; padding: 14px 18px; align-self: flex-end; max-width: 85%; margin-left: auto; box-shadow: 0 4px 15px rgba(16, 163, 127, 0.2); }
        .msg-ai { background: #18181b; border: 1px solid #27272a; border-radius: 20px 20px 20px 4px; padding: 14px 18px; align-self: flex-start; max-width: 85%; }
        .history-item { transition: 0.2s; cursor: pointer; border-radius: 8px; margin-bottom: 5px; padding: 8px; font-size: 13px; color: #a1a1aa; display: flex; justify-content: space-between; align-items: center; }
        .active-chat { background: #10a37f22; color: #10a37f; border: 1px solid #10a37f44; }
        .ai-logo-box { width: 40px; height: 40px; border-radius: 10px; overflow: hidden; box-shadow: 0 0 15px rgba(16, 163, 127, 0.4); border: 1px solid rgba(16, 163, 127, 0.5); }
        
        /* Mobile Overlay */
        #overlay { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.5); z-index: 40; backdrop-filter: blur(4px); }
        #overlay.active { display: block; }
    </style>
</head>
<body class="dark overflow-hidden flex h-full">

    <div id="overlay" onclick="toggleSidebar()"></div>

    <aside id="sidebar" class="sidebar fixed inset-y-0 left-0 w-72 md:relative md:translate-x-0 -translate-x-full flex flex-col transition-transform duration-300">
        <div class="p-6 flex-1 flex flex-col overflow-hidden">
            <div class="flex items-center gap-3 mb-10">
                <div class="ai-logo-box">
                    <img src="https://cdn-icons-png.flaticon.com/512/2103/2103633.png" alt="AI Logo" class="w-full h-full object-cover p-1">
                </div>
                <span class="font-bold text-xl tracking-tight">GPT-PRO <span class="text-[10px] bg-zinc-800 px-2 py-0.5 rounded text-zinc-400">v3.0</span></span>
            </div>

            <button onclick="startNewSession()" class="w-full py-3.5 bg-white text-black rounded-2xl font-bold mb-8 active:scale-95">+ New Session</button>
            
            <p class="text-[10px] font-bold text-zinc-600 uppercase tracking-[0.2em] px-2 mb-4">Chat History</p>
            <div id="history-container" class="flex-1 overflow-y-auto pr-2"></div>

            <div class="mt-4 border-t border-zinc-800 pt-4">
                <a href="https://t.me/AIwithMLbot" target="_blank" class="glass-card p-4 block no-underline">
                    <p class="text-sm font-bold text-white">Telegram Bot</p>
                    <p class="text-[10px] text-zinc-500">Join our community</p>
                </a>
            </div>
        </div>
    </aside>

    <main class="flex-1 flex flex-col relative w-full overflow-hidden">
        <header class="md:hidden flex items-center p-4 border-b border-zinc-800">
            <button onclick="toggleSidebar()" class="text-zinc-400 p-2">
                <svg width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M4 6h16M4 12h16M4 18h16"></path></svg>
            </button>
            <span class="ml-3 font-bold text-[#10a37f]">GPT-PRO</span>
        </header>

        <div id="chat-scroller" class="flex-1 overflow-y-auto p-4 md:p-12 flex flex-col gap-8">
            <div id="welcome" class="my-auto text-center">
                <h1 class="text-4xl font-bold mb-4 tracking-tighter">What can I <span class="text-[#10a37f]">create</span> today?</h1>
            </div>
        </div>

        <div class="p-4 md:pb-12 md:px-12 bg-gradient-to-t from-[#09090b] via-[#09090b] to-transparent">
            <div id="preview-area" class="max-w-4xl mx-auto mb-2 flex gap-2"></div>
            <div class="max-w-4xl mx-auto bg-[#131316] border border-zinc-800 rounded-[24px] p-2 flex items-end gap-2">
                <input type="file" id="fileIn" class="hidden" multiple accept="image/*,.pdf" onchange="handleFiles(event)">
                <button onclick="document.getElementById('fileIn').click()" class="p-3 text-zinc-500 hover:text-white">
                    <svg width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M21.44 11.05l-9.19 9.19a6 6 0 01-8.49-8.49l9.19-9.19a4 4 0 015.66 5.66l-9.2 9.19a2.001 2.001 0 11-2.83-2.83l8.49-8.48"/></svg>
                </button>
                <textarea id="chatInput" rows="1" class="flex-1 bg-transparent border-none outline-none text-white p-3 resize-none max-h-40" placeholder="Ask anything..."></textarea>
                <button onclick="send()" class="p-3.5 bg-[#10a37f] text-white rounded-[18px]">
                    <svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="3" viewBox="0 0 24 24"><path d="M22 2L11 13M22 2l-7 20-4-9-9-4 20-7z"/></svg>
                </button>
            </div>
        </div>
    </main>

    <script>
        const _k = ["github_pat_11BT7VRMI0LBWJ", "xUbOGGzx_j7QPRAjmoOcAYj0VlgL", "Nffw6V1g9cKrNe4LWRdda7jBYOLNPXXVHxVdlgP1"].join('');
        let currentChatId = null;
        let allChats = JSON.parse(localStorage.getItem('elite_history_v1') || '{}');
        let attachedFiles = [];

        // Mobile Sidebar Toggle
        function toggleSidebar() {
            const sb = document.getElementById('sidebar');
            const ov = document.getElementById('overlay');
            sb.classList.toggle('-translate-x-full');
            ov.classList.toggle('active');
        }

        function renderHistory() {
            const container = document.getElementById('history-container');
            container.innerHTML = '';
            Object.keys(allChats).reverse().forEach(id => {
                const item = document.createElement('div');
                item.className = `history-item ${id === currentChatId ? 'active-chat' : ''}`;
                const title = allChats[id].msgs[0]?.content.substring(0, 15) || "New Chat";
                item.innerHTML = `<span onclick="loadChat('${id}')" class="truncate flex-1">${title}...</span><button onclick="deleteChat('${id}')">×</button>`;
                container.appendChild(item);
            });
        }

        function loadChat(id) {
            currentChatId = id;
            if (window.innerWidth < 768) toggleSidebar(); // Mobile par load hote hi sidebar close
            document.getElementById('chat-scroller').innerHTML = '';
            document.getElementById('welcome')?.remove();
            allChats[id].msgs.forEach(m => appendMsg(m.role, m.content));
            renderHistory();
        }

        // ... [Baki saara original logic: send, delete, handleFiles, etc. same rahega] ...
        
        function deleteChat(id) {
            if(confirm("Delete?")) { delete allChats[id]; if(currentChatId === id) currentChatId = null; localStorage.setItem('elite_history_v1', JSON.stringify(allChats)); renderHistory(); }
        }
        function startNewSession() { currentChatId = 'chat_'+Date.now(); allChats[currentChatId] = {msgs:[]}; location.reload(); }
        async function handleFiles(e) { /* same as before */ }
        async function send() { /* same as before */ }
        function appendMsg(role, content) { /* same as before */ }

        window.onload = renderHistory;
    </script>
</body>
</html>
